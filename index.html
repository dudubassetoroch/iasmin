<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nosso Jardim üå∏</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0e0f24; --bg2:#1b1740; --bg3:#2c215f; --card:#ffffff0f; --text:#e9e9f3; --muted:#b9b9cc;
      --accent:#ff7bb7; --grass:#1fbf6d; --soil:#3d2f4a; --moon:#f7f7fb;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text); font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, "Noto Sans", sans-serif;
      background: radial-gradient(1000px 600px at 20% 10%, #2d246d 0%, transparent 60%),
                  radial-gradient(800px 500px at 80% 0%, #271764 0%, transparent 60%),
                  linear-gradient(180deg, var(--bg1), var(--bg2) 45%, var(--bg3));
      overflow-x:hidden;
    }
    .wrap{min-height:100%; display:flex; flex-direction:column}

    header{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding:24px clamp(16px, 5vw, 48px);
    }
    .title{
      font-family:"Great Vibes", cursive; font-size: clamp(28px, 5vw, 56px); line-height:1; letter-spacing:.5px;
    }
    .subtitle{font-weight:300; color:var(--muted); margin-top:-6px}

    main{flex:1; display:grid; grid-template-rows:auto 1fr auto; gap:24px}

    .timer-card{
      margin:0 auto; padding:18px 22px; border-radius:18px; background:var(--card); border:1px solid #ffffff1a;
      display:flex; align-items:center; gap:18px; backdrop-filter: blur(6px);
    }
    .counter{display:flex; gap:12px; flex-wrap:wrap}
    .tick{padding:10px 14px; border-radius:12px; background:#ffffff10; border:1px solid #ffffff1a; text-align:center; min-width:90px}
    .tick b{display:block; font-size: clamp(22px, 3vw, 30px)}
    .tick span{font-size:12px; letter-spacing:.6px; color:var(--muted)}

    .names{font-weight:600}
    .names input{background:transparent;border:none;color:var(--text);font:inherit;outline:none; border-bottom:1px dashed #ffffff3a; width:200px}

    /* Jardim */
    .garden{
      position:relative; width:100%; height:58vh; max-height:640px; overflow:hidden; isolation:isolate;
      border-top:1px solid #ffffff10; border-bottom:1px solid #ffffff10; background: linear-gradient(180deg, transparent, #ffffff05 70%, #00000010);
    }
    .moon{position:absolute; top:6%; right:8%; width:90px; height:90px; border-radius:50%; background:var(--moon); box-shadow:0 0 48px #ffffff20 inset, 0 0 100px #ffffff10}
    .heart{position:absolute; font-size:14px; opacity:.7; animation: floatUp var(--spd,9s) linear infinite; filter: drop-shadow(0 6px 10px #00000060)}
    @keyframes floatUp{from{transform:translateY(0) translateX(0)} to{transform:translateY(-120vh) translateX(30px); opacity:0}}

    .ground{position:absolute; bottom:-16vh; left:-5vw; right:-5vw; height:40vh; background:
      radial-gradient(60vh 24vh at 20% 30%, #0b4e2e 0%, transparent 65%),
      radial-gradient(60vh 24vh at 80% 30%, #0b4e2e 0%, transparent 65%),
      linear-gradient(180deg, #104832, #0a2b20 40%, #081a13);
      border-top-left-radius:40% 30%; border-top-right-radius:40% 30%; box-shadow:0 -30px 80px #00000040 inset}

    .blade{position:absolute; bottom:10vh; width:2px; background:#0fb06a; filter:brightness(.9); transform-origin:bottom center; opacity:.8}

    /* Flor */
    .flower{position:absolute; transform-origin:bottom center; --g:0; --size:100; --h:330;}
    .stem{width:6px; height:var(--stemH,180px); background:linear-gradient(180deg, #0fb06a, #0a8d55); border-radius:3px; margin:0 auto; transform-origin:bottom center; transform:scaleY(calc(.2 + .8*var(--g)))}
    .leaf{position:absolute; width:80px; height:40px; background: radial-gradient(80px 40px at 50% 50%, #17b169, #0a8d55); border-radius:80px 80px 0 80px; top:calc(50% - 20px);
      transform-origin: left bottom; left:7px; filter: drop-shadow(0 6px 6px #00000040)}
    .leaf.r{left:auto; right:7px; border-radius:80px 80px 80px 0; transform-origin:right bottom}
    .bloom{position:absolute; bottom:calc(var(--stemH, 180px) - 8px); left:50%; transform:translateX(-50%) scale(calc(.3 + .7*var(--g)));
      width: calc(var(--size) * 1px); height: calc(var(--size) * 1px); filter: drop-shadow(0 10px 14px #00000060)}
    .petal{position:absolute; inset:0; --n:8; --i:0;}
    .petal span{position:absolute; width:38%; height:38%; left:31%; top:10%; border-radius:60%; background: hsl(var(--h), 80%, calc(60% + var(--i)*3%));
      transform-origin:50% 90%; transform: rotate(calc(var(--i)* (360deg/var(--n))) ) translateY(calc(-2px - (1 - var(--g))*12px)) rotate(calc((1 - var(--g))*16deg));
      transition: transform .5s ease}
    .core{position:absolute; left:50%; top:50%; transform:translate(-50%, -35%); width:26%; height:26%; background: radial-gradient(circle at 30% 30%, #ffe38a, #ffc857 35%, #ffb703 60%);
      border-radius:50%}
    .label{position:absolute; left:50%; transform:translateX(-50%); bottom: calc(var(--stemH, 180px) + 90px); font-size:12px; color:#ffffffc7; text-shadow:0 2px 8px #000}

    footer{display:flex; align-items:center; justify-content:center; gap:12px; padding:14px; color:#ffffffb7; font-size:13px}
    footer a{color:#ffd2e8}

    @media (max-width:720px){
      .garden{height:56vh}
      .timer-card{flex-direction:column; align-items:flex-start}
    }
  </style>
</head>
<body>
<div class="wrap">
  <header>
    <div>
      <div class="title">Nosso Jardim</div>
      <div class="subtitle">Flores que crescem com o nosso tempo ‚ù§</div>
    </div>
  </header>

  <main>
    <section class="timer-card">
      <div class="names">
        <span id="labelNomes"></span>
        <input id="nomes" placeholder="Dudu e Gotica" />
      </div>
      <div class="counter" id="counter"></div>
    </section>

    <section class="garden" id="garden">
      <div class="moon"></div>
      <div class="ground"></div>
    </section>

    <footer>
      Feito com carinho
    </footer>
  </main>
</div>

<script>
(function(){
  const $ = (sel,el=document)=> el.querySelector(sel);
  const $$ = (sel,el=document)=> [...el.querySelectorAll(sel)];
  const ls = {
    get(){ try{ return JSON.parse(localStorage.getItem('jardim-dados')||'{}'); }catch{ return {}; } },
    set(v){ localStorage.setItem('jardim-dados', JSON.stringify(v)); }
  }

  const state = {
    start: new Date('2025-09-03T09:00:00').toISOString(), // data fixa
    nomes: ''
  }

  const garden = $('#garden');
  const counter = $('#counter');
  const nomesInput = $('#nomes');
  const labelNomes = $('#labelNomes');

  nomesInput.addEventListener('input', (e)=>{
    state.nomes = e.target.value; ls.set({ start: state.start, nomes: state.nomes });
  });

  sprinkleHearts();
  addGrass();
  buildGarden();
  tick();
  setInterval(tick, 1000);

  function diff(now, start){
    const ms = now - start;
    const totalSeconds = Math.max(0, Math.floor(ms/1000));
    const seconds = totalSeconds % 60;
    const minutes = Math.floor(totalSeconds/60) % 60;
    const hours = Math.floor(totalSeconds/3600) % 24;
    const days = Math.floor(totalSeconds/86400);
    const months = (now.getFullYear() - start.getFullYear())*12 + (now.getMonth() - start.getMonth()) + (now.getDate() - start.getDate())/30.4375 + (hours/24 + minutes/1440 + seconds/86400)/30.4375;
    const years = months / 12;
    return { totalSeconds, seconds, minutes, hours, days, months, years };
  }

  function tick(){
    const start = new Date(state.start);
    const now = new Date();
    const d = diff(now, start);
    renderCounter(d);
    updateFlowers(d);
  }

  function renderCounter(d){
    counter.innerHTML = '';
    const parts = [
      ['Anos', Math.floor(d.years)],
      ['Meses', Math.floor(d.months % 12)],
      ['Dias', d.days % 30],
      ['Horas', d.hours],
      ['Min', d.minutes],
      ['Seg', d.seconds]
    ];
    for(const [label, val] of parts){
      const el = document.createElement('div');
      el.className = 'tick';
      el.innerHTML = `<b>${String(val).padStart(2,'0')}</b><span>${label}</span>`;
      counter.appendChild(el);
    }
    labelNomes.textContent = (state.nomes?.trim()? state.nomes.trim()+':' : '');
  }

  function sprinkleHearts(){
    for(let i=0;i<24;i++){
      const h = document.createElement('div');
      h.className = 'heart';
      h.style.left = Math.random()*100 + 'vw';
      h.style.bottom = Math.random()*-60 + 'vh';
      h.style.setProperty('--spd', (7 + Math.random()*6) + 's');
      h.textContent = ['‚ù§','üíï','üíñ','üíó'][Math.floor(Math.random()*4)];
      garden.appendChild(h);
    }
  }

  function addGrass(){
    for(let i=0;i<120;i++){
      const b = document.createElement('div');
      b.className = 'blade';
      b.style.left = (i/120*100) + 'vw';
      b.style.height = (60 + Math.random()*90) + 'px';
      b.style.transform = `rotate(${(Math.random()*6-3)}deg)`;
      b.style.opacity = (0.5 + Math.random()*0.5);
      garden.appendChild(b);
    }
  }

  function buildGarden(){
    $$('.flower', garden).forEach(f=>f.remove());
    const f = createFlowerEl();
    f.style.setProperty('--h', 330);
    f.style.setProperty('--size', 100);
    f.style.setProperty('--stemH', '180px');
    f.style.left = '50%';
    f.style.bottom = '16vh';

    const label = document.createElement('div');
    label.className = 'label';
    label.textContent = '1¬∫ m√™s';
    f.appendChild(label);

    garden.appendChild(f);
  }

  function updateFlowers(d){
    const totalMonths = Math.max(0, d.months);
    const frac = totalMonths - Math.floor(totalMonths);

    const flowers = $$('.flower', garden);
    flowers.forEach((f, idx)=>{
      let g = 1;
      if(flowers.length===1) g = Math.max(0, Math.min(1, totalMonths));
      f.style.setProperty('--g', g);

      const sway = Math.sin((Date.now()/1000) + idx)*2;
      f.style.transform = `translateZ(0) rotate(${sway}deg)`;
    });
  }

  function createFlowerEl(){
    const f = document.createElement('div');
    f.className = 'flower';

    const stem = document.createElement('div');
    stem.className = 'stem';
    f.appendChild(stem);

    const leafL = document.createElement('div');
    leafL.className = 'leaf';
    const leafR = document.createElement('div');
    leafR.className = 'leaf r';

    leafL.style.transform = `rotate(calc(-40deg + 40deg * var(--g)))`;
    leafR.style.transform = `rotate(calc(40deg - 40deg * var(--g)))`;

    f.appendChild(leafL);
    f.appendChild(leafR);

    const bloom = document.createElement('div');
    bloom.className = 'bloom';

    const petal = document.createElement('div');
    petal.className = 'petal';
    const N = 9;
    petal.style.setProperty('--n', N);
    for(let i=0;i<N;i++){
      const s = document.createElement('span');
      s.style.setProperty('--i', i);
      petal.appendChild(s);
    }

    const core = document.createElement('div');
    core.className = 'core';

    bloom.appendChild(petal);
    bloom.appendChild(core);
    f.appendChild(bloom);

    return f;
  }
})();
</script>
</body>
</html>
